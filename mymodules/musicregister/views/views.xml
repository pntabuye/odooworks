<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Top menu item -->
    <!-- menuitem id="musicregister.menu_root" name="musicregister" web_icon="musicregister,static/description/icon.png"/ -->
    <menuitem id='menu_mregister' name='Music Register' sequence="105" web_icon="mregister,static/description/icon.png"/>
    <menuitem name="My Label" parent="menu_mregister" id="menu_mregister_title" sequence="50" />
    <menuitem name="Configuration" parent="menu_mregister" id="menu_mregister_config" sequence="53" />

    <!--View Search to group/filter by Supplier and time-->

    <!-- Actions for albums -->
    <record id="mregister_album_action_form" model="ir.actions.act_window">
        <field name="name">New Album</field>
        <field name="res_model">musicregister.album</field>
        <field name="view_mode">form</field>
    </record>
    <menuitem name="New Album" parent="menu_mregister_title" id="mregister_album_menu_form" action="mregister_album_action_form" sequence="1"/>

    <record id="musicregister_album_entry_action" model="ir.actions.act_window">
        <field name="name">Your Albums</field>
        <field name="res_model">musicregister.album.entry</field>
        <field name="view_mode">tree,kanban,form</field>
        <field name="help" type="html">
        <p>
            There is no previous album registered. Click on "New Album" and then create a new album for the Label.
        </p>
        </field>
    </record>
    <menuitem name="Previous Album" parent="menu_mregister_title" id="musicregister_album_menu_tree" action="musicregister_album_entry_action" sequence="2"/>

    <!-- Action for Song -->
    <record id="musicregister_song_action" model="ir.actions.act_window">
        <field name="name">Songs</field>
        <field name="res_model">musicregister.song</field>
        <field name="view_mode">tree,kanban,form</field>
        <field name="help" type="html">
          <p class="oe_view_nocontent_create">
            Click to create a song for album.
          </p>
          <p>
            A song is defined by its title and music genre.
          </p>
        </field>
    </record>
    <menuitem name="Songs" parent="menu_mregister_config" id="musicregister_song_menu" action="musicregister_song_action"/>

    <!-- Action for Music Genre -->
    <record id="musicregister_song_genre_action" model="ir.actions.act_window">
        <field name="name">Music Genre</field>
        <field name="res_model">musicregister.song.genre</field>
        <field name="view_mode">tree,form</field>
        <field name="help" type="html">
          <p class="oe_view_nocontent_create">
            Click to create a music genre.
          </p>
          <p>
            Here you can access all music genre for the label.
          </p>
        </field>
    </record>

    <record id="musicregister_song_genre_view_form" model="ir.ui.view">
        <field name="name">Music Genre Form</field>
        <field name="model">musicregister.song.genre</field>
        <field name="arch" type="xml">
          <form string="Genre Form">
            <group>
              <field name='name' string="Music Genre: "/>
            </group>
          </form>
        </field>
    </record>
    <menuitem name="Music Genre" parent="menu_mregister_config" id="musicregister_song_genre_menu" action="musicregister_song_genre_action"/>

    <!--View for Albums entries -->
    <record id="musicregister_album_entry_view_tree" model="ir.ui.view">
        <field name="name">musicregister.album.entry.tree</field>
        <field name="model">musicregister.album.entry</field>
        <field name="arch" type="xml">
            <tree string="Albums Tree" create="false" edit="false">
                <field name="artist"/>
                <field name="title"/>
                <field name="song_id"/>
                <field name="extras"/>
            </tree>
        </field>
    </record>

    <record id="musicregister_album_entry_view_form" model="ir.ui.view">
        <field name="name">musicregister.album.entry.kanban</field>
        <field name="model">musicregister.album.entry</field>
        <field name="arch" type="xml">
          <kanban>
            <field name="artist"/>
            <field name="title"/>
            <field name='song_id' />
            <field name='extras' />
            <templates>
              <t t-name="kanban-box">
                  <div class="oe_kanban_global_click">
                      <div class="o_kanban_record_top">
                          <div class="o_kanban_record_headings">
                              <strong class="o_kanban_record_artist"><field name="artist"/></strong>
                              <strong class="o_kanban_record_title"><field name="title"/></strong>
                              <strong class="o_kanban_record_song_id"><field name="song_id"/></strong>
                          </div>
                      </div>
                      <div>
                          <field name="extras"/>
                      </div>
                  </div>
              </t>
            </templates>
          </kanban>
        </field>
    </record>

    <!--View for Albums -->
    <record id="musicregister_album_view_tree" model="ir.ui.view">
        <field name="name">musicregister.album.tree</field>
        <field name="model">musicregister.album</field>
        <field name="arch" type="xml">
            <tree string="Albums Tree">
                <field name="artist"/>
                <field name="title"/>
                <field name="date"/>
                <field name="album_entry_ids"/>
            </tree>
        </field>
    </record>

    <record id="musicregister_album_view_form" model="ir.ui.view">
        <field name="name">musicregister.album.form</field>
        <field name="model">musicregister.album</field>
        <field name="arch" type="xml">
            <form string='Albums Form' class="o_musicregister">
                <sheet>
                    <group>
                      <group>
                        <field name="artist"/>
                        <field name="title"/>
                        <field name='date'/>
                      </group>
                    </group>
                    <separator string='Select your album'/>
                    <field name='album_entry_ids'>
                        <tree string='List' editable='bottom'>
                            <field name='song_id'/>
                            <field name='extras' />
                        </tree>
                    </field>
                </sheet>
            </form>
        </field>
    </record>

</odoo>
